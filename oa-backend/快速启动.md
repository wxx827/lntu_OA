# OA系统 - 快速启动指南

## 🚀 方式1: 一键启动 (推荐)

双击运行: **`oa-backend/START.bat`**

这个脚本会自动:
1. 启动 MySQL 服务
2. 导入所有数据库表
3. 启动 Spring Boot 后端

---

## 📋 方式2: 手动启动

### 步骤1: 启动 MySQL

**选项A - 使用 XAMPP (最简单)**:
1. 下载 XAMPP: https://www.apachefriends.org/
2. 安装后启动 MySQL
3. 跳到步骤2

**选项B - 使用已安装的 MySQL**:
```bash
# 打开新的 PowerShell 窗口
cd "C:\Program Files\MySQL\MySQL Server 8.4\bin"
.\mysqld.exe --console --datadir="c:\Users\wjx\Desktop\OA在线系统\mysql_data"

# 保持此窗口打开
```

### 步骤2: 导入数据库 (新窗口)

```bash
# 打开另一个 PowerShell 窗口
cd c:\Users\wjx\Desktop\OA在线系统

# 创建数据库
mysql -u root -e "CREATE DATABASE IF NOT EXISTS oa_system;"

# 导入核心表
mysql -u root oa_system < db/schema_mysql.sql

# 导入新模块表
mysql -u root oa_system < db/schema_new_modules.sql

# 验证
mysql -u root oa_system -e "SHOW TABLES;"
```

应该看到10张表。

### 步骤3: 启动后端

```bash
cd oa-backend
mvn spring-boot:run
```

看到 "Started OaSystemApplication" 表示成功。

---

## ✅ 验证部署

### 1. 访问 API 文档
http://localhost:8080/doc.html

### 2. 测试登录
```bash
curl -X POST http://localhost:8080/api/auth/login ^
  -H "Content-Type: application/json" ^
  -d "{\"username\":\"Admin\",\"password\":\"123456\"}"
```

### 3. 查看所有接口
在 Swagger 文档中应该看到:
- 认证 (2个)
- 系统管理 (6个)
- 会议管理 (4个)
- 物资管理 (4个)
- AI功能 (3个)
- **文档管理 (6个)** ⭐
- **工作流 (4个)** ⭐

---

## 🔧 常见问题

### Q: MySQL 启动失败

**解决方案**:
1. 使用 XAMPP (最简单)
2. 或检查端口占用: `netstat -ano | findstr :3306`
3. 或使用在线 MySQL 服务

### Q: 后端启动失败

**检查**:
1. Java 版本: `java -version` (需要 JDK 8+)
2. Maven 配置: `mvn -version`
3. 数据库连接: 修改 `application.yml` 中的密码

### Q: 找不到表

**解决**: 重新导入数据库
```bash
mysql -u root oa_system < db/schema_mysql.sql
mysql -u root oa_system < db/schema_new_modules.sql
```

---

## 📞 技术支持

如果遇到问题:
1. 查看 `DEPLOYMENT.md` 详细文档
2. 查看 `walkthrough.md` 完整功能说明
3. 检查后端日志输出

---

**状态**: 所有代码已完成,等待启动! 🎉
